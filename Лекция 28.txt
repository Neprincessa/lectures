Лекция 28.
Реализация двухфакторной аутентификации на основе аппаратных устройств.

Аутент - кто мы
Авт - что можно делать

Несколько факторов аутентификации:
1) я знаю - ввод пароля
2) я имею - обладание физическим устройством
3) я есть - биометрия
Берем два фактора и готова двухфакторная аутентификация 

Варианты аппаратной реализации:
объединение 1 и 2 фактора
1)OTP (one time password)
	HOTP
	TOTP
2) usb токены, смарт карты+ pki
3)pki ->доп по
4) fido u2f


Аутентификация с помощью OTP:(одноразовый)
	может быть прислан по смс
	вычислен с помощью вашего локального устройства
	Токен зашифровывает либо счетчик колоичества подключений hotp, либо текущее время totp, выдает пароль, который отправляется на сервер

Способы генерациии паролей:
	программы для смартфона. google authentific
	sms сервис
	аппаратный токен с дисплеем
	аппаратный токен с интерфеейсом usb - hid - нажали кнопку на юзб, мирус в том что надо списывать код

Плюсы OTP:
	1) дешево
	2) 
минусы: 
	1) вводить необходимо вручную
		Вообще 1 устройство - 1 сервер
	2) клиентская и серверная часть настраивается вручную
	3) пароль отдельно и отедльно второй фактор аутентификации. 


Реализация 2ФА OTP:
	1) выбор реали-зациии hotp, totp
	2) через токены или смс
	3) выбрать серверное по
		отдельный сервер
		плагин
	4) настроить сервер

Ключ токена записывается в базу и ассоциируется с логином пользователя

2 способ аутентиф:
Аутентификация USB-токенов / смарт - карт
1) встроена в windows, встравивается в ос
2) мб реализована в ыеб с помощью доп по
3) у каждого пользователя есть смаки карта иои юзб - токен
4) на них хранятся личные ключи и сертификаты открытых ключей
5) надо установить центр сертификация
	потому что реализована с помощью pki - хранение открытых ключей

Схема аутентифик:
	подписывает клиент схему (сделана сервером) с помощью ключа
	Подпись возвращается назад и проверяется корректность.

Плюсы токенов:
1) фактор знания пароля встроен в функцонал токена - ничего на сервере не надо реализован
2) если с кнопкой на корпусе, то надежнее всего, потому что тогда не будет ситуации тип токен активирован, злоумышленник удаленно подключился и работает. А так люббые действия только после нажатия кнопочки

Реализация 2ФА на основе токенов для Web:
1) выбрать плагин браузера
2) написать серверное по
3) установить удостоверяющий центр
4) интегрировать серверное по и уц


Аутентификация FIDO
	1) Плюсы в том, что есть возможность работать с облачными сервисами
	2) не надо реализовывать код на стороне клиента 

Минусы: 
1) дорого
2) старндаты не на все аспекты аутентификации 
3) в базовом варианте токены не защищены, ими может любой воспользоваться

Реализация 2ФА: 
1) выбрать серверное по
	youbica
2) интегрироватб этот сервер с веб сервисом

Схема аутентификации: 


Microsoft: 
	аутентификация по методу нажатия на клавиши - мб когда - то будет

На токене могут храниться ключи шифрования	




